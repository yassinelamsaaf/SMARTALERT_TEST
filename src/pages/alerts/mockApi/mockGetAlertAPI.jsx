
const all = [
  {
      "id": "a1f8c2e1",
      "product": {
        "id": "prod001",
        "name": "Chery",
        "description": "Compact car",
        "category": { "id": "cat1", "label": "Cars" },
        "city": { "id": "city1", "label": "Kénitra", "value": 1, "translations": { "fr": "Kénitra", "ar": "القنيطرة" }, "secteurs": [] },
        "secteur": { "id": "sect1", "label": "Centre", "translations": { "fr": "Centre", "ar": "المركز" }, "city": { "id": "city1", "label": "Kénitra", "value": 1, "translations": { "fr": "Kénitra", "ar": "القنيطرة" }, "secteurs": [] } },
        "criterias": []
      },
      "label": "alert-1",
      "createdAt": "2025-03-22T10:00:00.000Z",
      "lastAnnouncement": "ann001",
      "secteur": { "id": "sect1", "label": "Centre", "translations": { "fr": "Centre", "ar": "المركز" }, "city": { "id": "city1", "label": "Kénitra", "value": 1, "translations": { "fr": "Kénitra", "ar": "القنيطرة" }, "secteurs": [] } },
      "city": { "id": "city1", "label": "Kénitra", "value": 1, "translations": { "fr": "Kénitra", "ar": "القنيطرة" }, "secteurs": [] },
      "sources": [ { "id": "src1", "label": "Avito", "url": "https://www.avito.ma", "color": "#FF0000" } ],
      "searches": [ { "id": "search1", "valeur": "Essence", "valeurObject": null, "label": "Carburant", "key": "fuel", "criteria": null } ],
      "activated": true
  },
  {
      "id": "b7d3e9f4",
      "product": {
        "id": "prod002",
        "name": "Peugeot 208",
        "description": "French hatchback",
        "category": { "id": "cat1", "label": "Cars" },
        "city": { "id": "city2", "label": "Rabat", "value": 2, "translations": { "fr": "Rabat", "ar": "الرباط" }, "secteurs": [] },
        "secteur": { "id": "sect2", "label": "Agdal", "translations": { "fr": "Agdal", "ar": "أكدال" }, "city": { "id": "city2", "label": "Rabat", "value": 2, "translations": { "fr": "Rabat", "ar": "الرباط" }, "secteurs": [] } },
        "criterias": []
      },
      "label": "alert-2",
      "createdAt": "2024-12-15T08:30:00.000Z",
      "lastAnnouncement": "ann002",
      "secteur": { "id": "sect2", "label": "Agdal", "translations": { "fr": "Agdal", "ar": "أكدال" }, "city": { "id": "city2", "label": "Rabat", "value": 2, "translations": { "fr": "Rabat", "ar": "الرباط" }, "secteurs": [] } },
      "city": { "id": "city2", "label": "Rabat", "value": 2, "translations": { "fr": "Rabat", "ar": "الرباط" }, "secteurs": [] },
      "sources": [ { "id": "src2", "label": "Moteur.ma", "url": "https://www.moteur.ma", "color": "#00AEEF" } ],
      "searches": [ { "id": "search2", "valeur": "Diesel", "valeurObject": null, "label": "Carburant", "key": "fuel", "criteria": null } ],
      "activated": true
  },
  {
      "id": "c2a9b7d6",
      "product": {
        "id": "prod003",
        "name": "Renault Clio",
        "description": "Popular city car",
        "category": { "id": "cat1", "label": "Cars" },
        "city": { "id": "city3", "label": "Casablanca", "value": 3, "translations": { "fr": "Casablanca", "ar": "الدار البيضاء" }, "secteurs": [] },
        "secteur": { "id": "sect3", "label": "Maarif", "translations": { "fr": "Maarif", "ar": "المعاريف" }, "city": { "id": "city3", "label": "Casablanca", "value": 3, "translations": { "fr": "Casablanca", "ar": "الدار البيضاء" }, "secteurs": [] } },
        "criterias": []
      },
      "label": "alert-3",
      "createdAt": "2024-11-10T14:45:00.000Z",
      "lastAnnouncement": "ann003",
      "secteur": { "id": "sect3", "label": "Maarif", "translations": { "fr": "Maarif", "ar": "المعاريف" }, "city": { "id": "city3", "label": "Casablanca", "value": 3, "translations": { "fr": "Casablanca", "ar": "الدار البيضاء" }, "secteurs": [] } },
      "city": { "id": "city3", "label": "Casablanca", "value": 3, "translations": { "fr": "Casablanca", "ar": "الدار البيضاء" }, "secteurs": [] },
      "sources": [ { "id": "src3", "label": "Autocaz", "url": "https://www.autocaz.ma", "color": "#F7931E" } ],
      "searches": [ { "id": "search3", "valeur": "Essence", "valeurObject": null, "label": "Carburant", "key": "fuel", "criteria": null } ],
      "activated": true
  },
  {
      "id": "d5e1f3a8",
      "product": {
        "id": "prod004",
        "name": "Dacia Duster",
        "description": "SUV",
        "category": { "id": "cat1", "label": "Cars" },
        "city": { "id": "city4", "label": "Tanger", "value": 4, "translations": { "fr": "Tanger", "ar": "طنجة" }, "secteurs": [] },
        "secteur": { "id": "sect4", "label": "Iberia", "translations": { "fr": "Iberia", "ar": "إيبيريا" }, "city": { "id": "city4", "label": "Tanger", "value": 4, "translations": { "fr": "Tanger", "ar": "طنجة" }, "secteurs": [] } },
        "criterias": []
      },
      "label": "alert-4",
      "createdAt": "2024-10-05T09:20:00.000Z",
      "lastAnnouncement": "ann004",
      "secteur": { "id": "sect4", "label": "Iberia", "translations": { "fr": "Iberia", "ar": "إيبيريا" }, "city": { "id": "city4", "label": "Tanger", "value": 4, "translations": { "fr": "Tanger", "ar": "طنجة" }, "secteurs": [] } },
      "city": { "id": "city4", "label": "Tanger", "value": 4, "translations": { "fr": "Tanger", "ar": "طنجة" }, "secteurs": [] },
      "sources": [ { "id": "src4", "label": "Avito", "url": "https://www.avito.ma", "color": "#FF0000" } ],
      "searches": [ { "id": "search4", "valeur": "Diesel", "valeurObject": null, "label": "Carburant", "key": "fuel", "criteria": null } ],
      "activated": true
  },
  {
      "id": "e8c4d2b3",
      "product": {
        "id": "prod005",
        "name": "Hyundai i20",
        "description": "Economy car",
        "category": { "id": "cat1", "label": "Cars" },
        "city": { "id": "city5", "label": "Fès", "value": 5, "translations": { "fr": "Fès", "ar": "فاس" }, "secteurs": [] },
        "secteur": { "id": "sect5", "label": "Ville Nouvelle", "translations": { "fr": "Ville Nouvelle", "ar": "المدينة الجديدة" }, "city": { "id": "city5", "label": "Fès", "value": 5, "translations": { "fr": "Fès", "ar": "فاس" }, "secteurs": [] } },
        "criterias": []
      },
      "label": "alert-5",
      "createdAt": "2024-09-01T16:10:00.000Z",
      "lastAnnouncement": "ann005",
      "secteur": { "id": "sect5", "label": "Ville Nouvelle", "translations": { "fr": "Ville Nouvelle", "ar": "المدينة الجديدة" }, "city": { "id": "city5", "label": "Fès", "value": 5, "translations": { "fr": "Fès", "ar": "فاس" }, "secteurs": [] } },
      "city": { "id": "city5", "label": "Fès", "value": 5, "translations": { "fr": "Fès", "ar": "فاس" }, "secteurs": [] },
      "sources": [ { "id": "src5", "label": "Moteur.ma", "url": "https://www.moteur.ma", "color": "#00AEEF" } ],
      "searches": [ { "id": "search5", "valeur": "Essence", "valeurObject": null, "label": "Carburant", "key": "fuel", "criteria": null } ],
      "activated": true
  },
  {
      "id": "f1b7c9e2",
      "product": {
        "id": "prod006",
        "name": "Toyota Yaris",
        "description": "Reliable hatchback",
        "category": { "id": "cat1", "label": "Cars" },
        "city": { "id": "city6", "label": "Marrakech", "value": 6, "translations": { "fr": "Marrakech", "ar": "مراكش" }, "secteurs": [] },
        "secteur": { "id": "sect6", "label": "Gueliz", "translations": { "fr": "Gueliz", "ar": "كيليز" }, "city": { "id": "city6", "label": "Marrakech", "value": 6, "translations": { "fr": "Marrakech", "ar": "مراكش" }, "secteurs": [] } },
        "criterias": []
      },
      "label": "alert-6",
      "createdAt": "2024-08-18T11:55:00.000Z",
      "lastAnnouncement": "ann006",
      "secteur": { "id": "sect6", "label": "Gueliz", "translations": { "fr": "Gueliz", "ar": "كيليز" }, "city": { "id": "city6", "label": "Marrakech", "value": 6, "translations": { "fr": "Marrakech", "ar": "مراكش" }, "secteurs": [] } },
      "city": { "id": "city6", "label": "Marrakech", "value": 6, "translations": { "fr": "Marrakech", "ar": "مراكش" }, "secteurs": [] },
      "sources": [ { "id": "src6", "label": "Autocaz", "url": "https://www.autocaz.ma", "color": "#F7931E" } ],
      "searches": [ { "id": "search6", "valeur": "Diesel", "valeurObject": null, "label": "Carburant", "key": "fuel", "criteria": null } ],
      "activated": true
  },
  {
      "id": "g3e2a1d5",
      "product": {
        "id": "prod007",
        "name": "Volkswagen Golf",
        "description": "German hatchback",
        "category": { "id": "cat1", "label": "Cars" },
        "city": { "id": "city7", "label": "Agadir", "value": 7, "translations": { "fr": "Agadir", "ar": "أكادير" }, "secteurs": [] },
        "secteur": { "id": "sect7", "label": "Talborjt", "translations": { "fr": "Talborjt", "ar": "تالبرجت" }, "city": { "id": "city7", "label": "Agadir", "value": 7, "translations": { "fr": "Agadir", "ar": "أكادير" }, "secteurs": [] } },
        "criterias": []
      },
      "label": "alert-7",
      "createdAt": "2024-07-30T13:40:00.000Z",
      "lastAnnouncement": "ann007",
      "secteur": { "id": "sect7", "label": "Talborjt", "translations": { "fr": "Talborjt", "ar": "تالبرجت" }, "city": { "id": "city7", "label": "Agadir", "value": 7, "translations": { "fr": "Agadir", "ar": "أكادير" }, "secteurs": [] } },
      "city": { "id": "city7", "label": "Agadir", "value": 7, "translations": { "fr": "Agadir", "ar": "أكادير" }, "secteurs": [] },
      "sources": [ { "id": "src7", "label": "Avito", "url": "https://www.avito.ma", "color": "#FF0000" } ],
      "searches": [ { "id": "search7", "valeur": "Essence", "valeurObject": null, "label": "Carburant", "key": "fuel", "criteria": null } ],
      "activated": true
  },
  {
      "id": "h6d8b2c4",
      "product": {
        "id": "prod008",
        "name": "Fiat 500",
        "description": "Italian city car",
        "category": { "id": "cat1", "label": "Cars" },
        "city": { "id": "city8", "label": "Oujda", "value": 8, "translations": { "fr": "Oujda", "ar": "وجدة" }, "secteurs": [] },
        "secteur": { "id": "sect8", "label": "Centre", "translations": { "fr": "Centre", "ar": "المركز" }, "city": { "id": "city8", "label": "Oujda", "value": 8, "translations": { "fr": "Oujda", "ar": "وجدة" }, "secteurs": [] } },
        "criterias": []
      },
      "label": "alert-8",
      "createdAt": "2024-06-25T07:25:00.000Z",
      "lastAnnouncement": "ann008",
      "secteur": { "id": "sect8", "label": "Centre", "translations": { "fr": "Centre", "ar": "المركز" }, "city": { "id": "city8", "label": "Oujda", "value": 8, "translations": { "fr": "Oujda", "ar": "وجدة" }, "secteurs": [] } },
      "city": { "id": "city8", "label": "Oujda", "value": 8, "translations": { "fr": "Oujda", "ar": "وجدة" }, "secteurs": [] },
      "sources": [ { "id": "src8", "label": "Moteur.ma", "url": "https://www.moteur.ma", "color": "#00AEEF" } ],
      "searches": [ { "id": "search8", "valeur": "Diesel", "valeurObject": null, "label": "Carburant", "key": "fuel", "criteria": null } ],
      "activated": true
  }
];



export async function getAlertsAPI(page = 0, searchParams, lang = "fr", abortController=null) {
// searchParams: {activated: ""
// category: ""
// city: "Kénitra"
// fuel: ""
// searchInput: "h"
// source: ""}

    await new Promise(resolve => setTimeout(resolve, 1000))
    // let url = `/api/announcements?page=${page}&size=2&sort=datePosted,desc${alert ? "&alert=" + alert : ""}`;
    const allAlerts = []
    
    if (searchParams.searchInput != "h"){
      all.forEach((alert) => {
        allAlerts.push(alert)
      })
    }
    
    const pageSize = 4;
    const start = page * pageSize;
    const end = start + pageSize;
    const pagedAlerts = allAlerts.slice(start, end);
    const totalPages = Math.ceil(allAlerts.length / pageSize);
    return { alerts: pagedAlerts, totalPages };
}


export const getAlertAPI = async (id) => {
  for(const alert of all){
    if(alert.id == id){
      return {alert, ok: true}
    }
  }
  return {alert: null, ok: false}
}